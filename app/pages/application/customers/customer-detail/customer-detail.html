<ion-view view-title="客户详情" class="crm hrms-pancel-corlor customer-detail">
  <ion-header-bar align-title="center" class="bar-stable">
    <img src="build/img/application/customer/detail/top_left_arrow@3x.png" ng-click="goBack(customer)"/>
    <h1 class="title">{{ 'CUSTOMER_DETAIL.CUSTOMER_DETAIL' | T }}{{customer.dataStatusName=='禁用'?'--'+customer.dataStatusName : ''}}</h1>
    <img src="build/img/application/customer/detail/icon_dot@3x.png" ng-click="showMenu()"/>
  </ion-header-bar>

  <div class="header-menu" ng-show="showMenuFlag" ng-class="{0:'hideUp',1:'showDown'}[showMenuFlag]">
    {{ 'CUSTOMER_DETAIL.TRANSMIT' | T }}
  </div>

  <ion-content overflow-scroll="true" class="employee-search-content"  delegate-handle="slideimgs">

    <div class="customer-info">
      <img ng-src="{{customer.logoUrl=='' ?  'build/img/application/information/icon_partner@3x.png' : customer.logoUrl}}"/>
      <div class="info-area">
        <span>{{customer.approveShow}}{{customer.fullName}}</span>
        <span>{{customer.saleArea}}  {{customer.saleTeam}}  {{customer.saleEmployee}}</span>
      </div>
      <!--<img class="right-operate" src="build/img/application/customer/detail/icon_right_position@3x.png" ng-click="copyAddress()"/>-->
      <img class="right-operate" src="build/img/application/customer/detail/icon_right_position@3x.png" ng-click="showLocation()"/>
    </div>

    <div class="sub-header">
      <ion-scroll class="sub-header-scroll" delegate-handle="subHeaderScroll" direction="x" scrollbar-x="false" has-bouncing="true">
        <span ng-repeat="subHeader in subHeaders" ng-click="selectSubHeader($index)" ng-class="{true:'selected'}[subHeadersSelect[$index]]">
          <img ng-src="{{'build/img/application/customer/detail/' + subHeader.icon + (subHeadersSelect[$index] ? '_selected@3x.png' : '@3x.png') }}"/>
          {{subHeader.title}}
          <div class="bottom-line"></div>
        </span>
      </ion-scroll>
    </div>

    <div class="stage">
      <ion-scroll class="content-scroll" direction="y" scrollbar-y="true" delegate-handle="detailScroll">
        <div class="inner" ng-include="contentInner"></div>
      </ion-scroll>
    </div>

  </ion-content>
  <crm-loading ng-if="showCrmLoading"></crm-loading>
  <div class="common-fix-div" ng-class="{true:'showUp'}[showSelect]">
    <div class="common-fix-div-header">
      <img src="build/img/application/customer/detail/top_left_arrow@3x.png" ng-click="showSelectDiv()"/>
      请选择
    </div>
    <div class="sifting-area">
      <img src="build/img/application/opportunity/icon_top_search@3x.png">
      <input type="search" placeholder="搜索" ng-change="searchValue()" ng-model="searchValueKey"/>
      <img src="build/img/application/icon_circle@3x.png" ng-show="searchValueKey != ''" ng-click="clearSelectFilter()">
    </div>
    <!--<div class="sifting-area">-->
      <!--<input type="text" placeholder="搜索..." ng-change="searchValue()" ng-model="searchValueKey"/>-->
    <!--</div>-->
    <div class="list">
      <ion-scroll direction="y" has-bouncing="true" scrollbar-y="false" delegate-handle="transferScroll">
        <div class="list-item" ng-repeat="item in items track by $index" ng-click="selectItem($index)">{{item.showModal}}</div>
      </ion-scroll>
    </div>
  </div>
  <img class="fix-button" ng-show="imgButton" ng-src="{{buttonImg}}" ng-class="{true:'edit-button'}[isEdit]" ng-click="chooseThis()"/>

</ion-view>
