<ion-view view-title="通讯录" class="crm crm-contact">
  <ion-header-bar align-title="center" class="bar-stable">
    <div class="header-select-button">
      <div class="selected" ng-click="selectSubHeader(0)" ng-class="{true:'selected'}[subHeadersSelect[0]]">  {{bilingual.customer}}</div>
      <div ng-click="selectSubHeader(1)" ng-class="{true:'selected'}[subHeadersSelect[1]]">  {{bilingual.colleague}}</div>
    </div>
    <img class="sub-icon" src="build/img/application/opportunity/icon_add_black@3x.png" ng-click="showMore()"/>
    <img src="build/img/contact/icon_code@3x.png"  ng-controller="ScanCardController"  ng-click="scanBusinessCard()"/>
  </ion-header-bar>
  <ion-content  delegate-handle="slideimgs" style="background: #f5f5f5;bottom: 50px;" class="customerLinkman contact-content">
  <!--  <div ng-if="subHeadersSelect[0]" ng-include="'build/pages/contact/customerLinkman/customerLinkman.html'"></div>
    <div ng-if="subHeadersSelect[1]" ng-include="'build/pages/contact/colleague/colleagueLinkman.html'"></div>-->
    <crm-loading ng-if="showLoading"></crm-loading>
    <div class="titles">
      <div class="title-img">
        <img src="build/img/contact/icon_search@3x.png">
      </div>
      <input ng-click="goSearch()" placeholder="{{'CONTACTS.SEARCH'|T}}" ng-readonly="true">
      <img ng-click="showFilterContactsModel()" src="build/img/contact/icon_select_blue@3x.png" style="width: 40px;
    position: absolute;
    right: 2px;top: 2px;
    border: 10px solid transparent;"/>
    </div>
    <div class="row row-center bar-show" ng-click="hideArea(0)">
      <div class="col col-12">
        <img src="build/img/contact/icon_person@3x.png">
      </div>
      <div class="col col-68 result-style">
       {{bilingual.frequentContacts}}
      </div>
      <div class="col col-20 result-right-button">
        <div >{{hideAreaFlag[0] ? ("SHOW" | T) : ("HIDE" | T) }}</div>
      </div>
    </div>

    <ion-list ng-hide="hideAreaFlag[0]">
      <ion-item class="item-bg" ng-repeat="item in historyContact">
        <div class="row link-item">
          <div class="col col-20 col-center" ng-click="goDetail(item)">
            <div class="header-img">
              <img src="build/img/contact/user_img2@3x.png">
            </div>
          </div>
          <div class="col col-60 col-center" style="padding-left: 0px;" ng-click="goDetail(item)">
            <div class="row">
              <span style="font-size: 17px;">{{item.name}}</span>
              <span> <img ng-src="{{item.sexImg}}" class="sex-img"></span>
              <span class="linkRole">{{item.position}}</span>
            </div>
            <div class="row ">
              <span class="department">{{item.fullName}}</span>
            </div>
          </div>
          <div class="col col-20 col-center" align="center">
            <div class="col"><a href="tel:{{item.phone}}">
              <img src="build/img/contact/icon_phone_green@3x.png" class="phone-icon">
            </a></div>
          </div>
        </div>
        <ion-option-button class=" button-delete-icon"
                           ng-click="deleteHisItem(item,$index)" style="color:#FE9073">
          <img src="build/img/contact/icon_delete_white@3x.png" style="">
          xxxx
        </ion-option-button>
      </ion-item>
    </ion-list>

    <div class="row row-center bar-gray-show" ng-if="showResult">
      <div class="col col-68 result-style">
        {{'CONTACTS.SCREENING_RESULTS'|T}}
      </div>
    </div>
    <ion-list>

      <ion-item class="item-bg" ng-repeat="item in linkmanData" ng-if="showResult">
        <div class="row link-item">
          <div class="col col-20 col-center" ng-click="goDetail(item)">
            <div class="header-img">
              <img src="build/img/contact/user_img@3x.png">
            </div>
          </div>
          <div class="col col-60 col-center" style="padding-left: 0px;" ng-click="goDetail(item)">
            <div class="row">
              <span style="font-size: 17px;">{{item.name}}</span>
              <span> <img ng-src="{{item.sexImg}}" class="sex-img"></span>
              <span class="linkRole">{{item.position}}</span>
            </div>
            <div class="row ">
              <span class="department">{{item.fullName}}</span>
            </div>
          </div>
          <div class="col col-20 col-center" align="center">
            <div class="col"><a href="tel:{{item.phone}}">
              <img src="build/img/contact/icon_phone_green@3x.png" class="phone-icon">
            </a></div>
          </div>
        </div>
      </ion-item>
      <ion-infinite-scroll
        immediate-check="false"
        ng-if="moreDataCanBeLoaded"
        on-infinite="loadMore()"
        distance="1%">
      </ion-infinite-scroll>
    </ion-list>
  </ion-content>
</ion-view>
